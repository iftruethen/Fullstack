{"ast":null,"code":"import _slicedToArray from \"/home/jere/GitStuff/Fullstack/Osa2/Excercise2_12/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/jere/GitStuff/Fullstack/Osa2/Excercise2_12/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst App = () => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        countries = _useState2[0],\n        setCountries = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        showAll = _useState4[0],\n        setShowAll = _useState4[1];\n\n  const _useState5 = useState(''),\n        _useState6 = _slicedToArray(_useState5, 2),\n        searchWord = _useState6[0],\n        setSearchWord = _useState6[1];\n\n  const _useState7 = useState([]),\n        _useState8 = _slicedToArray(_useState7, 2),\n        weatherData = _useState8[0],\n        setWeatherData = _useState8[1];\n\n  var showed = '';\n  useEffect(() => {\n    axios.get('https://restcountries.eu/rest/v2/all').then(response => setCountries(response.data));\n\n    if (showed !== undefined) {\n      axios.get('http://api.weatherstack.com/current?access_key=4cf035647c4a0a31ae72f44ebb1aab2f&query='.concat(showed)).then(response => setWeatherData(response.data));\n    }\n  }, [searchWord]);\n\n  const renderCountry = ({\n    match\n  }) => {\n    var weather = [];\n\n    try {\n      weather = weatherData.current;\n    } catch (err) {}\n\n    if (weather !== undefined) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, match.name), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, \"capital \", match.capital, \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }), \"population \", match.population), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, \"languages\"), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, match.languages.map(language => React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, language.name))), React.createElement(\"img\", {\n        src: match.flag,\n        width: \"10%\",\n        height: \"10%\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, \"Weather in \", match.capital), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, \"temperature:\"), \" \", weather.temperature, \" Celsius\"), React.createElement(\"img\", {\n        src: weather.weather_icons[0],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"wind:\"), \" \", weather.wind_speed, \" kph direction \", weather.wind_dir, \" \"));\n    } else {\n      return null;\n    }\n  };\n\n  const renderer = () => {\n    var countriesToShow = showAll ? countries : countries.filter(country => country.name.toLowerCase().includes(searchWord));\n\n    if (countriesToShow.length > 10) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Too many matches, specify another filter\"));\n    } else if (countriesToShow.length === 0) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"No matches found\"));\n    } else if (countriesToShow.length === 1) {\n      const match = countriesToShow[0];\n      showed = match.capital;\n      console.log(showed);\n      return renderCountry({\n        match\n      });\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, countriesToShow.map(match => React.createElement(\"p\", {\n        key: match.numericCode,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, match.name, React.createElement(\"button\", {\n        onClick: () => setSearchWord(match.name.toLowerCase()),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"show\"))));\n    }\n  };\n\n  const handleChange = event => {\n    setSearchWord(event.target.value);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"find countries \", React.createElement(\"input\", {\n    value: searchWord,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }), renderer());\n};\n\nexport default App;","map":{"version":3,"sources":["/home/jere/GitStuff/Fullstack/Osa2/Excercise2_12/src/App.js"],"names":["React","useState","useEffect","axios","App","countries","setCountries","showAll","setShowAll","searchWord","setSearchWord","weatherData","setWeatherData","showed","get","then","response","data","undefined","concat","renderCountry","match","weather","current","err","name","capital","population","languages","map","language","flag","temperature","weather_icons","wind_speed","wind_dir","renderer","countriesToShow","filter","country","toLowerCase","includes","length","console","log","numericCode","handleChange","event","target","value"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAAA,oBACmBH,QAAQ,CAAC,EAAD,CAD3B;AAAA;AAAA,QACRI,SADQ;AAAA,QACEC,YADF;;AAAA,qBAEgBL,QAAQ,CAAC,KAAD,CAFxB;AAAA;AAAA,QAERM,OAFQ;AAAA,QAECC,UAFD;;AAAA,qBAGsBP,QAAQ,CAAC,EAAD,CAH9B;AAAA;AAAA,QAGRQ,UAHQ;AAAA,QAGIC,aAHJ;;AAAA,qBAIwBT,QAAQ,CAAC,EAAD,CAJhC;AAAA;AAAA,QAIRU,WAJQ;AAAA,QAIKC,cAJL;;AAKhB,MAAIC,MAAM,GAAG,EAAb;AAEAX,EAAAA,SAAS,CAAC,MAAM;AACdC,IAAAA,KAAK,CACFW,GADH,CACO,sCADP,EAEGC,IAFH,CAEQC,QAAQ,IAAIV,YAAY,CAACU,QAAQ,CAACC,IAAV,CAFhC;;AAGA,QAAIJ,MAAM,KAAKK,SAAf,EAA0B;AAC1Bf,MAAAA,KAAK,CACFW,GADH,CACO,yFAAyFK,MAAzF,CAAgGN,MAAhG,CADP,EAEGE,IAFH,CAEQC,QAAQ,IAAIJ,cAAc,CAACI,QAAQ,CAACC,IAAV,CAFlC;AAGC;AACF,GATQ,EASN,CAACR,UAAD,CATM,CAAT;;AAWA,QAAMW,aAAa,GAAG,CAAC;AAACC,IAAAA;AAAD,GAAD,KAAa;AACjC,QAAIC,OAAO,GAAG,EAAd;;AACA,QAAI;AACFA,MAAAA,OAAO,GAAGX,WAAW,CAACY,OAAtB;AACD,KAFD,CAEE,OAAMC,GAAN,EAAW,CAAE;;AAEf,QAAIF,OAAO,KAAKJ,SAAhB,EAA2B;AACzB,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKG,KAAK,CAACI,IAAX,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACWJ,KAAK,CAACK,OADjB,OAC0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAD1B,iBAEcL,KAAK,CAACM,UAFpB,CAFF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBANF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGN,KAAK,CAACO,SAAN,CAAgBC,GAAhB,CAAoBC,QAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKA,QAAQ,CAACL,IAAd,CAAhC,CADH,CAPF,EAUE;AAAK,QAAA,GAAG,EAAEJ,KAAK,CAACU,IAAhB;AAAsB,QAAA,KAAK,EAAC,KAA5B;AAAkC,QAAA,MAAM,EAAC,KAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAVF,EAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAgBV,KAAK,CAACK,OAAtB,CAXF,EAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAH,OAAwBJ,OAAO,CAACU,WAAhC,aAZF,EAaE;AAAK,QAAA,GAAG,EAAEV,OAAO,CAACW,aAAR,CAAsB,CAAtB,CAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAbF,EAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAH,OAAiBX,OAAO,CAACY,UAAzB,qBAAoDZ,OAAO,CAACa,QAA5D,MAdF,CADF;AAkBD,KAnBD,MAmBO;AACL,aAAO,IAAP;AACD;AACF,GA5BD;;AA8BA,QAAMC,QAAQ,GAAG,MAAM;AACrB,QAAIC,eAAe,GAAG9B,OAAO,GAC3BF,SAD2B,GAE3BA,SAAS,CAACiC,MAAV,CAAiBC,OAAO,IAAIA,OAAO,CAACd,IAAR,CAAae,WAAb,GAA2BC,QAA3B,CAAoChC,UAApC,CAA5B,CAFF;;AAIA,QAAI4B,eAAe,CAACK,MAAhB,GAAyB,EAA7B,EAAiC;AAC/B,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDADF,CADF;AAKD,KAND,MAMO,IAAIL,eAAe,CAACK,MAAhB,KAA2B,CAA/B,EAAkC;AACvC,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,CADF;AAKD,KANM,MAMA,IAAIL,eAAe,CAACK,MAAhB,KAA2B,CAA/B,EAAkC;AACvC,YAAMrB,KAAK,GAAGgB,eAAe,CAAC,CAAD,CAA7B;AACAxB,MAAAA,MAAM,GAAGQ,KAAK,CAACK,OAAf;AACAiB,MAAAA,OAAO,CAACC,GAAR,CAAY/B,MAAZ;AACA,aACEO,aAAa,CAAC;AAACC,QAAAA;AAAD,OAAD,CADf;AAGD,KAPM,MAOA;AACL,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGgB,eAAe,CAACR,GAAhB,CAAoBR,KAAK,IAAI;AAAG,QAAA,GAAG,EAAEA,KAAK,CAACwB,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA4BxB,KAAK,CAACI,IAAlC,EAAuC;AAAQ,QAAA,OAAO,EAAE,MAAMf,aAAa,CAACW,KAAK,CAACI,IAAN,CAAWe,WAAX,EAAD,CAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAvC,CAA7B,CADH,CADF;AAKD;AACF,GA/BD;;AAiCA,QAAMM,YAAY,GAAIC,KAAD,IAAW;AAC9BrC,IAAAA,aAAa,CAACqC,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAb;AACD,GAFD;;AAIA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACiB;AAAO,IAAA,KAAK,EAAExC,UAAd;AAA0B,IAAA,QAAQ,EAAEqC,YAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADjB,EAEGV,QAAQ,EAFX,CADF;AAOD,CA5FD;;AA8FA,eAAehC,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\n\nconst App = () => {\n  const [ countries,setCountries ] = useState([])\n  const [ showAll, setShowAll ] = useState(false)\n  const [ searchWord, setSearchWord ] = useState('')\n  const [ weatherData, setWeatherData ] = useState([])\n  var showed = ''\n\n  useEffect(() => {\n    axios\n      .get('https://restcountries.eu/rest/v2/all')\n      .then(response => setCountries(response.data))\n    if (showed !== undefined) {\n    axios\n      .get('http://api.weatherstack.com/current?access_key=4cf035647c4a0a31ae72f44ebb1aab2f&query='.concat(showed))\n      .then(response => setWeatherData(response.data))\n    }\n  }, [searchWord])\n\n  const renderCountry = ({match}) => {\n    var weather = []\n    try {\n      weather = weatherData.current\n    } catch(err) {}\n\n    if (weather !== undefined) {\n      return(\n        <div>\n          <h2>{match.name}</h2>\n          <p>\n            capital {match.capital} <br/>\n            population {match.population}\n          </p>\n          <h3>languages</h3>\n          <ul>\n            {match.languages.map(language => <li>{language.name}</li>)}\n          </ul>\n          <img src={match.flag} width=\"10%\" height=\"10%\"></img>\n          <h3>Weather in {match.capital}</h3>\n          <p><b>temperature:</b> {weather.temperature} Celsius</p>\n          <img src={weather.weather_icons[0]}></img>\n          <p><b>wind:</b> {weather.wind_speed} kph direction {weather.wind_dir} </p>\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  const renderer = () => {\n    var countriesToShow = showAll\n    ? countries\n    : countries.filter(country => country.name.toLowerCase().includes(searchWord))\n\n    if (countriesToShow.length > 10) {\n      return(\n        <div>\n          <p>Too many matches, specify another filter</p>\n        </div>\n      )\n    } else if (countriesToShow.length === 0) {\n      return(\n        <div>\n          <p>No matches found</p>\n        </div>\n      )\n    } else if (countriesToShow.length === 1) {\n      const match = countriesToShow[0]\n      showed = match.capital\n      console.log(showed)\n      return(\n        renderCountry({match})\n      )\n    } else {\n      return(\n        <div>\n          {countriesToShow.map(match => <p key={match.numericCode}>{match.name}<button onClick={() => setSearchWord(match.name.toLowerCase())}>show</button></p> )}\n        </div>\n      )\n    }\n  }\n\n  const handleChange = (event) => {\n    setSearchWord(event.target.value)\n  }\n\n  return (\n    <div>\n      find countries <input value={searchWord} onChange={handleChange} />\n      {renderer()}\n    </div>\n    \n  )\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}